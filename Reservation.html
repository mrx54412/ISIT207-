<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Car Reservation - AZoom Car Rental</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #e0f7f5;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: linear-gradient(90deg, #35f0d1, #10c1a7);
      color: white;
      padding: 1.5rem 1rem;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    header h1 {
      font-size: 2rem;
      font-weight: 700;
    }

    nav {
      margin-top: 0.6rem;
    }

    nav a {
      margin: 0 15px;
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
    }

    nav a:hover {
      color: #ffd700;
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 20px;
    }

    .container {
      background: white;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
      max-width: 600px;
      width: 100%;
    }

    .container h2 {
      color: #10c1a7;
      margin-bottom: 25px;
      text-align: center;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    input, select {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      border: 1.8px solid #ccc;
      border-radius: 8px;
      margin-bottom: 15px;
      font-family: inherit;
    }

    .cc-row {
      display: flex;
      gap: 15px;
    }

    .cc-row > div {
      flex: 1;
    }

    button {
      width: 100%;
      background-color: #10c1a7;
      color: white;
      font-weight: 700;
      font-size: 1rem;
      padding: 12px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background-color: #0d997e;
    }

    #totalPrice {
      margin-top: 10px;
      font-weight: bold;
      color: #0a7663;
      text-align: center;
      font-size: 1.1rem;
    }

    #toast {
      visibility: hidden;
      min-width: 250px;
      background-color: #10c1a7;
      color: white;
      text-align: center;
      border-radius: 8px;
      padding: 16px;
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1001;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.4s ease, visibility 0.4s;
    }

    #toast.show {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <header>
    <h1>AZoom Car Rental</h1>
    <nav>
      <a href="home.html">Home</a>
      <a href="cars.html">Cars</a>
      <a href="reservation.html">Reserve</a>
      <a href="login.html">Login</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <div class="container">
      <h2>Reserve Your Car</h2>
      <form onsubmit="return confirmReservation()">
        <label for="name">Full Name:</label>
        <input type="text" id="name" required>

        <label for="email">Email Address:</label>
        <input type="email" id="email" required>

        <label for="car">Select Car:</label>
        <select id="car" required onchange="updatePrice()">
          <option value="">-- Select a Car --</option>
          <option value="Tesla Model X">Tesla Model X</option>
          <option value="Kia Ev3">Kia Ev3</option>
          <option value="BYD Sealion 7">BYD Sealion 7</option>
        </select>

        <label for="period">Rental Period:</label>
        <select id="period" required onchange="updatePrice(); calculateReturnDate();">
          <option value="">-- Select Period --</option>
          <option value="Daily">Daily</option>
          <option value="Weekly">Weekly</option>
          <option value="Monthly">Monthly</option>
        </select>

        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" required onchange="calculateReturnDate()">

        <label for="returnDate">Return Date:</label>
        <input type="date" id="returnDate" readonly>

        <label for="collectLocation">Collect Location:</label>
        <select id="collectLocation" required>
          <option value="">-- Select Destination --</option>
          <option value="Changi Airport">Changi Airport</option>
          <option value="Orchard Road">Orchard Road</option>
          <option value="Sentosa">Sentosa</option>
          <option value="East Coast Park">East Coast Park</option>
          <option value="Jurong Bird Park">Jurong Bird Park</option>
          <option value="Gardens by the Bay">Gardens by the Bay</option>
          <option value="Singapore Zoo">Singapore Zoo</option>
          <option value="Marina Bay Sands">Marina Bay Sands</option>
        </select>

        <label for="returnLocation">Return Location:</label>
        <select id="returnLocation" required>
          <option value="">-- Select Drop-off Location --</option>
          <option value="Changi Airport">Changi Airport</option>
          <option value="Orchard Road">Orchard Road</option>
          <option value="Sentosa">Sentosa</option>
          <option value="East Coast Park">East Coast Park</option>
          <option value="Jurong Bird Park">Jurong Bird Park</option>
          <option value="Gardens by the Bay">Gardens by the Bay</option>
          <option value="Singapore Zoo">Singapore Zoo</option>
          <option value="Marina Bay Sands">Marina Bay Sands</option>
        </select>

        <div id="totalPrice"></div>

        <label for="ccnumber">Credit Card Number:</label>
        <input type="text" id="ccnumber" pattern="\d{16}" maxlength="16" required placeholder="1234123412341234">

        <div class="cc-row">
          <div>
            <label for="expiry">Expiry Date:</label>
            <input type="month" id="expiry" required>
          </div>
          <div>
            <label for="cvc">CVC:</label>
            <input type="text" id="cvc" pattern="\d{3}" maxlength="3" required placeholder="123">
          </div>
        </div>

        <button type="submit">Confirm Reservation</button>
      </form>
    </div>
  </main>

  <div id="toast"></div>

  <script>
    const carPrices = {
      "Tesla Model X": { Daily: 100, Weekly: 600, Monthly: 2200 },
      "Kia Ev3": { Daily: 80, Weekly: 480, Monthly: 1800 },
      "BYD Sealion 7": { Daily: 90, Weekly: 540, Monthly: 2000 }
    };

    function updatePrice() {
      const car = document.getElementById("car").value;
      const period = document.getElementById("period").value;
      if (car && period) {
        const price = carPrices[car][period];
        document.getElementById("totalPrice").innerText = `Estimated Price: $${price}`;
      } else {
        document.getElementById("totalPrice").innerText = '';
      }
    }

    function calculateReturnDate() {
      const start = new Date(document.getElementById("startDate").value);
      const period = document.getElementById("period").value;

      if (!isNaN(start)) {
        let daysToAdd = 0;
        if (period === "Daily") daysToAdd = 1;
        else if (period === "Weekly") daysToAdd = 7;
        else if (period === "Monthly") daysToAdd = 30;

        const returnDate = new Date(start);
        returnDate.setDate(start.getDate() + daysToAdd);

        document.getElementById("returnDate").value = returnDate.toISOString().split("T")[0];
      }
    }

    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.className = "show";
      setTimeout(() => {
        toast.className = toast.className.replace("show", "");
      }, 3000);
    }

    function confirmReservation() {
      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const car = document.getElementById("car").value;
      const period = document.getElementById("period").value;
      const startDate = document.getElementById("startDate").value;
      const returnDate = document.getElementById("returnDate").value;
      const CollectLocation = document.getElementById("collectLocation").value;
      const ReturnLocation = document.getElementById("returnLocation").value;
      const ccNumber = document.getElementById("ccnumber").value;
      const expiry = document.getElementById("expiry").value;
      const cvc = document.getElementById("cvc").value;

      const price = carPrices[car][period];

      localStorage.setItem("bookingDetails", JSON.stringify({
        name,
        email,
        car,
        period,
        startDate,
        returnDate,
        collectLocation,
        returnLocation,
        price,
        ccNumber,
        expiry,
        cvc
      }));

      showToast("Reservation confirmed! Redirecting...");
      setTimeout(() => {
        window.location.href = "thankyou.html";
      },);

      return false;
    }
  </script>
</body>
</html>
